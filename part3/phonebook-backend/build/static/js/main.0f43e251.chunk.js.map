{"version":3,"sources":["components/Filter.js","components/AddPerson.js","components/Person.js","components/DispPersons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","check","newSearch","onChange","value","placeholder","AddPerson","props","onSubmit","addName","handleText","newName","handleNumber","newNumber","Person","person","deleteUser","name","number","onClick","DispPersons","personstoshow","map","i","key","baseUrl","obj","axios","post","then","response","data","get","id","delete","put","Notification","notif","notifStyle","color","col","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setNewSearch","setNotif","notifcol","setNotifCol","useEffect","noteService","filter","event","temp","target","length","preventDefault","toLowerCase","trim","concat","setTimeout","catch","error","console","log","JSON","stringify","user","find","p","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f43e251.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({check, newSearch}) => {\r\n    return(\r\n        <div>\r\n            filter: <input onChange={check} value={newSearch} placeholder=\"Search\" />\r\n        </div>\r\n    )    \r\n}\r\nexport default Filter","import React from 'react';\r\n\r\nconst AddPerson = (props) => {\r\n    return (\r\n        <form onSubmit={props.addName}>\r\n        <div>name: <input onChange={props.handleText} value={props.newName} placeholder=\"Name\" /></div>\r\n        <div>number: <input onChange={props.handleNumber} value={props.newNumber} placeholder=\"Number\" /></div>\r\n        <button>Submit</button>\r\n      </form>\r\n    );\r\n};\r\n\r\nexport default AddPerson;","import React from 'react'\r\n\r\nconst Person = ({person,deleteUser}) => {\r\n    return(\r\n    <li>{person.name} {person.number} <button onClick={()=>deleteUser(person.name)}>delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst DispPersons = ({personstoshow,deleteUser}) => {\r\n    return (\r\n        <ul>\r\n            {personstoshow.map((person,i)=><Person key={i} deleteUser={deleteUser} person={person} />)} \r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default DispPersons;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst get = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst create = obj => {\r\n    const request = axios.post(baseUrl,obj)\r\n    return request.then(response=>response.data)\r\n}   \r\n\r\nconst userDelete = (id) => {\r\n    const request=axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst replace = (id,obj) => {\r\n    const request= axios.put(`${baseUrl}/${id}`,obj)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default {create,get,userDelete,replace}","import React from 'react';\r\n\r\nconst Notification = ({notif,col}) => {\r\n    const notifStyle = {\r\n        color:col,\r\n        background: \"lightgrey\",\r\n        fontSize: 20,\r\n        borderStyle: \"solid\",\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n        }\t\t\r\n    if(notif===null){\r\n        return null\r\n    }\r\n    return (\r\n        <div style={notifStyle}>   \r\n            {notif}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;","import React,{useState, useEffect} from 'react';\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson';\nimport DispPersons from './components/DispPersons';\nimport noteService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons ] = useState([]) \n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [showAll, setShowAll] = useState(true)\n  const [newSearch, setNewSearch] = useState(\"\")\n  const [notif,setNotif] = useState(null)\n  const [notifcol,setNotifCol] = useState(null)\n\n  const hook = () => {\n    noteService.get()\n              .then(response=>setPersons(response))\n  }\n\n  useEffect(hook, [])\n\n  const addName = (event) => {\n      event.preventDefault()\n      if(persons.filter((person)=>person.name.toLowerCase().trim()===newName.toLowerCase().trim()).length===0){\n        const obj = {\n          name: newName,\n          number: newNumber\n        }\n      noteService.create(obj)\n                  .then(response=>setPersons(persons.concat(response)))\n                  .then(()=>{\n                    setNotif(`Added ${newName}`)\n                    setNotifCol(\"rgb(27, 133, 27)\")\n                    setTimeout(()=>{setNotif(null)},2000)\n                  })\n                  .catch(error=>{\n                    console.log(error.response.data)\n                    setNotif(`${JSON.stringify(error.response.data)}`)\n                    setNotifCol(\"red\")\n                    setTimeout(()=>{setNotif(null)},2000)\n                  })\n      }else{\n        const user=persons.find(p=>p.name.toLowerCase().trim()===newName.toLowerCase().trim())\n        const id=user.id\n        if(window.confirm(`${user.name} already exists. Are you sure you want to change it?`)){\n        const obj={\n          name: newName,\n          number: newNumber\n        }\n        noteService.replace(id,obj)\n                  .then(response=>{\n                    setPersons(persons.map(p=>p.id===id?response:p))\n                  })\n                  .then(()=>{\n                    setNotif(`Updated ${newName}'s number`)\n                    setNotifCol(\"rgb(27, 133, 27)\")\n                    setTimeout(()=>{setNotif(null)},2000)\n                  })\n                  .catch(error=>{\n                    setNotif(`${JSON.stringify(error.response.data)}`)\n                    setNotifCol(\"red\")\n                    setTimeout(()=>{setNotif(null)},2000)\n                  })\n      }}\n      setNewName(\"\")\n      setNewNumber(\"\")\n    }\n\n  const handleText = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const check = (event) => {\n    var temp=event.target.value\n    setNewSearch(temp)\n    const namestoShow=persons.filter((person)=>person.name===temp)\n    if(namestoShow.length!==0){\n      setShowAll(false)\n    }else{\n      setShowAll(true)\n    }\n  }\n\n  const deleteUser = (name) => {\n    if(window.confirm(`delete ${name}?`)){\n    const user=persons.find(p=>p.name===name)\n    noteService.userDelete(user.id)\n          .then(setPersons(persons.filter(p=>p!==user)))\n          .then(()=>{\n            setNotif(`Deleted ${name}`)\n            setNotifCol(\"rgb(27, 133, 27)\")\n            setTimeout(()=>{setNotif(null)},2000)\n          })\n      }\n  }\n\n  const personstoshow = showAll?persons:persons.filter((person)=>person.name===newSearch)\n\n  return(\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notif={notif} col={notifcol}/>\n      <Filter check={check} newSearch={newSearch} />\n      <h2>add a new</h2>\n      <AddPerson addName={addName} handleText={handleText} handleNumber={handleNumber} newName={newName}\n      newNumber={newNumber}/>\n      <h2>Numbers</h2>\n      <DispPersons personstoshow={personstoshow} deleteUser={deleteUser} />\n    </div>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}